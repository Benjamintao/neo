@charset "UTF-8";

@if $enable-accordions == true {
    .accordion {
        &[data-accordion="collapsed"] > dd {
            display: none;
        }

        &[data-accordion="expanded"] > dt::after {
            transform: rotate(180deg);
        }

        // <details> alternative if extra styling is neccessary
        // Limitations: no initial expanded, no nested accordions, always collapse others
        // Tip: [tab-index='-1'] enables .accordion:focus
        &[tabindex='-1'] {
            outline: none;

            &:focus {
                > dt {
                    &::after {
                        transform: rotate(180deg);
                    }

                    + dd {
                        display: block;
                    }
                }
            }

            > dd {
                display: none;
            }
        }

        > dt {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;

            &::after {
                @include triangle($accordion-title-triangle-size, $accordion-title-triangle-color, down);
                content: "";
                transition: transform $accordion-title-triangle-transition-duration;
                will-change: transform;
            }
        }
    }
}
